module.exports=function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=12)}([function(e,t){e.exports=flarum.core.compat["common/extend"]},function(e,t){e.exports=flarum.core.compat["common/utils/Stream"]},function(e,t){e.exports=flarum.core.compat["common/components/Button"]},function(e,t){e.exports=flarum.core.compat["forum/components/EditUserModal"]},function(e,t){e.exports=flarum.core.compat["forum/components/SignUpModal"]},function(e,t){e.exports=flarum.core.compat["forum/components/SettingsPage"]},function(e,t){e.exports=flarum.core.compat["common/Model"]},function(e,t){e.exports=flarum.core.compat["common/models/User"]},function(e,t){e.exports=flarum.core.compat["common/utils/extractText"]},function(e,t){e.exports=flarum.core.compat["common/components/Modal"]},,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(2),o=a.n(r),i=a(3),s=a.n(i),u=a(5),l=a.n(u),p=a(6),c=a.n(p),d=a(7),f=a.n(d),h=a(8),b=a.n(h),y=a(1),x=a.n(y);function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=a(9),O=function(e){var t,a;function n(){return e.apply(this,arguments)||this}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,g(t,a);var r=n.prototype;return r.oninit=function(t){e.prototype.oninit.call(this,t),this.realname=x()(app.session.user.displayName())},r.className=function(){return"RealnameModal Modal--small"},r.title=function(){return app.translator.trans("tue-realnames.forum.change_realname.title")},r.content=function(){return m("div",{className:"Modal-body"},m("div",{className:"Form Form--centered"},m("div",{className:"Form-group"},m("input",{type:"text",autocomplete:"off",name:"realname",className:"FormControl",bidi:this.realname,disabled:this.loading})),m("div",{className:"Form-group"},o.a.component({className:"Button Button--primary Button--block",type:"submit",loading:this.loading},app.translator.trans("tue-realnames.forum.change_realname.submit_button")))))},r.onsubmit=function(e){var t=this;e.preventDefault(),this.realname()!==app.session.user.displayName()?(this.loading=!0,app.session.user.save({realname:this.realname()},{errorHandler:this.onerror.bind(this)}).then(this.hide.bind(this)).catch((function(){t.loading=!1,m.redraw()}))):this.hide()},n}(a.n(v).a),_=a(4),N=a.n(_);app.initializers.add("tue-realnames",(function(){f.a.prototype.canEditOwnRealname=c.a.attribute("canEditOwnRealname"),Object(n.extend)(l.a.prototype,"accountItems",(function(e){"realname"===app.forum.attribute("displayNameDriver")&&this.user.canEditOwnRealname()&&e.add("changeRealname",m(o.a,{className:"Button",onclick:function(){return app.modal.show(O)}},app.translator.trans("tue-realnames.forum.settings.change_realname_button")))})),Object(n.extend)(s.a.prototype,"oninit",(function(){"realname"===app.forum.attribute("displayNameDriver")&&(this.realname=x()(this.attrs.user.displayName()))})),Object(n.extend)(s.a.prototype,"fields",(function(e){"realname"===app.forum.attribute("displayNameDriver")&&e.add("realname",m("div",{className:"Form-group"},m("label",null,app.translator.trans("tue-realnames.forum.edit_user.realnames_heading")),m("input",{className:"FormControl",placeholder:b()(app.translator.trans("tue-realnames.forum.edit_user.realnames_text")),bidi:this.realname})),100)})),Object(n.extend)(s.a.prototype,"data",(function(e){if("realname"===app.forum.attribute("displayNameDriver")){this.attrs.user;this.realname()!==this.attrs.user.displayName()&&(e.realname=this.realname())}})),Object(n.extend)(N.a.prototype,"oninit",(function(){this.realname=x()(this.attrs.realname||"")})),Object(n.extend)(N.a.prototype,"fields",(function(e){app.forum.attribute("usernameHelp")&&e.get("username").children.push(m(".Form-hint",[app.forum.attribute("usernameHelp")]));var t=m("input.FormControl",{name:"realname",type:"text",placeholder:app.translator.trans("tue-realnames.forum.signup.realname_placeholder"),bidi:this.realname,disabled:this.loading});e.add("realname",m(".Form-group",[t]),29),app.forum.attribute("realnameHelp")&&e.get("realname").children.push(m(".Form-hint",[app.forum.attribute("realnameHelp")]))})),Object(n.extend)(N.a.prototype,"submitData",(function(e){e.realname=this.realname()}))}))}]);
//# sourceMappingURL=forum.js.map